
<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>TEMP</title>
</head>
<body class="container">
<button id="loadBtn">Load</button>
<div id="demo"></div>
<script>
let xhr = new XMLHttpRequest();

console.log(xhr);
xhr.open('GET', 'demo.txt', true);
xhr.send();

xhr.onreadystatechange = function() {
  console.log(this.readyState);
  console.log(this);
  if (this.readyState === 4 && this.status === 200) {
    document.getElementById('demo').innerHTML =
    this.responseText;
  }
};


function load(url, callback) {
  let xhr = new XMLHttpRequest();
  
   xhr.onreadystatechange = function() {
     if (this.readyState == 4 && this.status == 200) {
       callback(this);
     }
   };

   xhr.open('GET', url, true);
   xhr.send();
}


let loadBtn = document.getElementById('loadBtn');

loadBtn.addEventListener('click', function() {
 let url = 'http://api.namnapi.se/v2/names.json?limit=1';
 load(url, demo);
});

function demo(xhr) {
  let json = JSON.parse(xhr.responseText);
  let array = json.names;
  let name = array[0];
  console.log(name);
  document.getElementById('demo').innerText = 
    name.firstname + ' ' + name.surname ;
}



</script>
</body>
</html>